namespace: com.latam.springdynamicquery.test.UserMapper
description: User queries for testing
queries:
  - id: findUserById
    description: Find user by ID
    resultType: entity
    resultClass: com.latam.springdynamicquery.testmodel.User
    sql: |
      SELECT * FROM users WHERE id = :id

  - id: findActiveUsers
    description: Find all active users
    resultType: entity
    resultClass: com.latam.springdynamicquery.testmodel.User
    sql: |
      SELECT * FROM users WHERE active = true

  - id: findUsersWithDynamicFilters
    description: Find users with dynamic filters
    resultType: entity
    resultClass: com.latam.springdynamicquery.testmodel.User
    sql: |
      SELECT * FROM users u
    parameters:
      - name: name
        type: string
        required: false
      - name: email
        type: string
        required: false
      - name: departmentIds
        type: list
        required: false
      - name: minAge
        type: integer
        required: false
      - name: status
        type: string
        required: false

  - id: findUsersWithComplexSearch
    description: Complex user search with multiple filters
    resultType: entity
    resultClass: com.latam.springdynamicquery.testmodel.User
    sql: |
      SELECT u.* FROM users u
      LEFT JOIN departments d ON d.id = u.department_id
    parameters:
      - name: name
        type: string
        required: false
      - name: email
        type: string
        required: false
      - name: departmentIds
        type: list
        required: false
      - name: minAge
        type: integer
        required: false

  - id: countUsersByStatus
    description: Count users by status
    resultType: scalar
    resultClass: java.lang.Long
    sql: |
      SELECT COUNT(*) FROM users u
    parameters:
      - name: status
        type: string
        required: false

  - id: findUsersWithComplexConditions
    description: Test complex OR and EXISTS conditions
    resultType: entity
    resultClass: com.latam.springdynamicquery.testmodel.User
    sql: |
      SELECT u.* FROM users u
    parameters:
      - name: searchTerm
        type: string
        required: false
      - name: hasOrders
        type: boolean
        required: false
      - name: departmentCodes
        type: list
        required: false