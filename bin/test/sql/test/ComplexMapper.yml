namespace: com.latam.springdynamicquery.test.ComplexMapper
description: Complex queries for advanced testing scenarios
queries:
  - id: findUsersWithOrdersAndDepartment
    description: Complex join with multiple dynamic conditions
    resultType: raw
    sql: |
      SELECT u.id, u.name, u.email, d.name as department_name,
             COUNT(o.id) as order_count, SUM(o.total) as total_spent
      FROM users u
      LEFT JOIN departments d ON d.id = u.department_id
      LEFT JOIN orders o ON o.user_id = u.id
      GROUP BY u.id, u.name, u.email, d.name
    parameters:
      - name: departmentName
        type: string
        required: false
      - name: minOrderCount
        type: integer
        required: false
      - name: userStatus
        type: string
        required: false

  - id: testParameterBinding
    description: Test different parameter types
    resultType: raw
    sql: |
      SELECT 
        :stringParam as string_value,
        :intParam as int_value,
        :longParam as long_value,
        :booleanParam as boolean_value
      FROM (SELECT 1) dual
    parameters:
      - name: stringParam
        type: string
        required: false
      - name: intParam
        type: integer
        required: false
      - name: longParam
        type: long
        required: false
      - name: booleanParam
        type: boolean
        required: false